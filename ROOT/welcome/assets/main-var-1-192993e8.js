jQuery(document).ready(function(e){function n(e){e=e.replace(/\D/g,""),e=e.substring(0,10);var n=e.length;return e=0==n?e:n<4?"("+e:n<7?"("+e.substring(0,3)+") "+e.substring(3,6):"("+e.substring(0,3)+") "+e.substring(3,6)+"-"+e.substring(6,10)}function t(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function a(e){return/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/.test(e)}function r(){for(i=0;i<u.length;i++){var n=document.forms.WebToLeads2024869000000105036[u[i]];if(n){if(!e(n).val()){var r=e(n).parents(".swiper-slide").index()-5;return s.slideTo(r),n.focus(),!1}if("checkbox"==n.type){if(0==n.checked)return alert("Please accept  "+c[i]),n.focus(),!1}else{if("Email"==e(n).attr("name")&&!t(e(n).val())){var r=e(n).parents(".swiper-slide").index()-5;return s.slideTo(r),e(n).addClass("error").val("").attr("placeholder","Invalid email address"),!1}if("Phone"==e(n).attr("name")&&!a(e(n).val())){var r=e(n).parents(".swiper-slide").index()-5;return s.slideTo(r),e(n).addClass("error").val("").attr("placeholder","Invalid phone number"),!1}}try{"Last Name"==n.name&&(d=n.value)}catch(e){}}}return!0}function l(e){return e.val()?"Email"!=e.attr("name")||t(e.val())?!("Phone"==e.attr("name")&&!a(e.val()))||(e.addClass("error").val("").attr("placeholder","Invalid phone number"),!1):(e.addClass("error").val("").attr("placeholder","Invalid email address"),!1):(e.addClass("error").blur().attr("placeholder","This is a required field"),!1)}function o(){return s.slideNext(),!0}var s=(window.location.origin,new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0,direction:"vertical",mousewheelControl:!1,speed:700,hashnav:!1,onlyExternal:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,scrollbar:".swiper-scrollbar",freeMode:!0}));e("input[name=first_name]").on("keydown",function(n){9==(n.keyCode||n.which)&&(n.preventDefault(),e("input[name=last_name]").focus())}),mySwiper=e(".swiper-container")[0].swiper,mySwiper.lockSwipes(),mySwiper.on("touchStart",function(n,t){var i=t.target||t.srcElement,a=e(i).hasClass("slide-nav-down")||e(i).hasClass("nextSlide")||e(i).is("img")||e(i).hasClass("checkValidation"),r=e(i).hasClass("slide-nav-up");if(a){if(0==n.activeIndex){var l=[],o=e("input[name=zip]").val();if(o?0==__helpers__.isValidZipcode(o)&&l.push("Please enter a valid zip code"):l.push("Please enter your zip code"),l.length>0){var s="Please correct the following errors:\n\n- "+l.join("\n- ");return alert(s),Modernizr.input.placeholder||Placeholders.enable(),!1}}if(3==n.activeIndex){var l=[],u=e("input[name=email]").val();if(u?0==__helpers__.isValidEmail(u)&&l.push("Please enter a valid email address"):l.push("Please enter your email address"),l.length>0){var s="Please correct the following errors:\n\n- "+l.join("\n- ");return alert(s),Modernizr.input.placeholder||Placeholders.enable(),!1}}if(4==n.activeIndex){var l=[],c=e("#input_1_6_3").val();c?0==__helpers__.isValidName(c)&&l.push("Please enter a valid first name"):l.push("Please enter your first name");var d=e("#input_1_6_6").val();if(d?0==__helpers__.isValidName(d)&&l.push("Please enter a valid last name"):l.push("Please enter your last name"),l.length>0){var s="Please correct the following errors:\n\n- "+l.join("\n- ");return alert(s),Modernizr.input.placeholder||Placeholders.enable(),!1}}n.unlockSwipes(),a&&n.slideNext(),n.lockSwipes()}else r&&(n.unlockSwipes(),n.slidePrev(),n.lockSwipes())}),e("#input_1_3_1, #input_1_4, #input_1_6_3, #input_1_6_6, #input_1_7").focus(function(){var n=e("body").css("height");e("body").css("height",n),e(window).scrollTop(0,0)}),e("#input_1_3_1").bind("keypress",function(n){if(13==(n.keyCode||n.which)){var t=[],i=e("input[name=zip]").val();if(i?!1===__helpers__.isValidZipcode(i)&&t.push("Please enter a valid zip code"):t.push("Please enter your zip code"),t.length>0){var a="Please correct the following errors:\n\n- "+t.join("\n- ");return alert(a),!1}s.unlockSwipes(),s.slideNext(),s.lockSwipes(),e("#input_1_3_1").blur()}}),e("#input_1_4").bind("keypress",function(n){if(13==(n.keyCode||n.which)){var t=[],i=e("input[name=email]").val();if(i?0==__helpers__.isValidEmail(i)&&t.push("Please enter a valid email address"):t.push("Please enter your email address"),t.length>0){var a="Please correct the following errors:\n\n- "+t.join("\n- ");return alert(a),Modernizr.input.placeholder||Placeholders.enable(),!1}s.unlockSwipes(),s.slideNext(),s.lockSwipes(),e("#input_1_4").blur()}}),e("#input_1_6_6").bind("keypress",function(n){if(13==(n.keyCode||n.which)){var t=[],i=e("#input_1_6_6").val();if(i?0==__helpers__.isValidName(i)&&t.push("Please enter a valid last name"):t.push("Please enter your last name"),t.length>0){var a="Please correct the following errors:\n\n- "+t.join("\n- ");return alert(a),Modernizr.input.placeholder||Placeholders.enable(),!1}s.unlockSwipes(),s.slideNext(),s.lockSwipes(),e("#input_1_6_6").blur()}}),e("#input_1_7").bind("keypress",function(n){if(13==(n.keyCode||n.which)){var t=[],i=e("#input_1_7").val().replace(/\D/g,"");if(i?!1===__helpers__.isValidPhone(i)&&t.push("Please enter a valid phone number"):t.push("Please enter your phone number"),t.length>0){var a="Please correct the following errors:\n\n- "+t.join("\n- ");return alert(a),Modernizr.input.placeholder||Placeholders.enable(),!1}e("#lead-form").submit()}}),e(".slide-nav-container-copybox-two").hide(),e("#residential").bind("mousedown touchstart",function(){e(".slide-nav-container-copybox-two").show()}),e("#commercial").bind("mousedown touchstart",function(){window.location="https://casolargroup.com/renter.jsp"}),e(".slide-nav-up").mousedown(function(){s.slidePrev()}),e("#gform_submit_button_1").click(function(){var n=[],t=e("input[name=phone_home]").val().replace(/\D/g,"");if(t?0==__helpers__.isValidPhone(t)&&n.push("Please enter a valid phone number"):n.push("Please enter your phone number"),n.length>0){var i="Please correct the following errors:\n\n- "+n.join("\n- ");return alert(i),Modernizr.input.placeholder||Placeholders.enable(),!1}e("#lead-form").submit()}),e(document).keydown(function(e){9==e.keyCode&&e.preventDefault()}),e("#lead-form").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}),e("#input_1_3_1").on("keyup",function(e){13==e.keyCode&&s.slideNext()}),e("#input_1_3_1").change(function(){document.activeElement.blur(),e("input").blur()}),e("#input_1_3_1").keyup(function(n){13==n.keyCode&&e("#submit-address").click()}),e("#input_1_4").on("keyup",function(n){13==n.keyCode&&(e(this).blur(),e("#submit-email").click())}),e("#input_1_4").change(function(){document.activeElement.blur(),e("input").blur()}),e("#input_1_6_3").on("keyup",function(n){if(13==n.keyCode)return e("#input_1_6_6").focus(),!0}),e("#input_1_6_6").on("keyup",function(n){13==n.keyCode&&(e(this).blur(),e("#submit-name").click())}),e("#input_1_6_6").change(function(){document.activeElement.blur(),e("input").blur()}),e("#input_1_7").on("keyup",function(n){13==n.keyCode&&(e(this).blur(),e("#submit-phone").click())}),e("#input_1_7").change(function(){document.activeElement.blur(),e("input").blur()}),document.getElementById("input_1_7").addEventListener("keyup",function(e){var t=document.getElementById("input_1_7");e.which?e.which:e.keyCode;t.value=n(t.value)}),document.getElementById("input_1_7").value=n(document.getElementById("input_1_7").value);var u=new Array("Email","First Name","Last Name","Phone"),c=new Array("Email","First Name","Last Name","Phone"),d="";e(document.body).on("click",".nextSlide",function(){o()}),e(document.body).on("click",".checkValidation",function(n){if(!l(e(n.currentTarget).parent(".required").find("input")))return!1;o()}),e(document.body).on("click","#submitForm",function(e){r()||e.preventDefault()}),e(".rangeslider-tooltip").prepend("$"),e(function(){function n(e){var n=e.value;(e.parentNode.getElementsByTagName("output")[0]||e.parentNode.parentNode.getElementsByTagName("output")[0])[r]=n}e(".focusItem").delegate("*","focus blur",function(){var n=e(this);setTimeout(function(){n.is(":focus")?n.parent(".focusItem").addClass("focused"):n.parent(".focusItem").removeClass("focused")},0)}),e(document.body).on("focus",".error",function(){e(this).removeClass("error")});var t=e(document),i="[data-rangeslider]",a=e(i),r="textContent"in document?"textContent":"innerText";t.on("input",'input[type="range"], '+i,function(e){n(e.target)}),t.on("click",'#js-example-disabled button[data-behaviour="toggle"]',function(n){var t=e(i,n.target.parentNode);t[0].disabled?t.prop("disabled",!1):t.prop("disabled",!0),t.rangeslider("update")}),t.on("click","#js-example-change-value button",function(n){var t=e(i,n.target.parentNode),a=e('input[type="number"]',n.target.parentNode)[0].value;t.val(a).change()}),t.on("click","#js-example-change-attributes button",function(n){var t=e(i,n.target.parentNode),a={min:e('input[name="min"]',n.target.parentNode)[0].value,max:e('input[name="max"]',n.target.parentNode)[0].value,step:e('input[name="step"]',n.target.parentNode)[0].value};t.attr(a),t.rangeslider("update",!0)}),t.on("click",'#js-example-destroy button[data-behaviour="destroy"]',function(n){e(i,n.target.parentNode).rangeslider("destroy")}).on("click",'#js-example-destroy button[data-behaviour="initialize"]',function(n){e(i,n.target.parentNode).rangeslider({polyfill:!1})}),t.on("click",'#js-example-hidden button[data-behaviour="toggle"]',function(n){e(n.target.previousElementSibling).toggle()}),a.rangeslider({polyfill:!1,onInit:function(){n(this.$element[0]),e(window).width()<670?this.onSlide(115,115):this.onSlide(275,275)},onSlide:function(n){e(".rangeslider-tooltip").css("margin-left",+n)},onSlideEnd:function(){}})}),e("#privacy-policy").click(function(){e("#submission-form").fadeOut("fast",function(){e("#privacy-policy-window").fadeIn("fast")})}),e("#close-privacy").click(function(){e("#privacy-policy-window").fadeOut("fast",function(){e("#submission-form").fadeIn("fast")})}),e("#terms").click(function(){e("#submission-form").fadeOut("fast",function(){e("#terms-of-use-window").fadeIn("fast")})}),e("#close-terms").click(function(){e("#terms-of-use-window").fadeOut("fast",function(){e("#submission-form").fadeIn("fast")})}),e("#priv-int-link").click(function(){e("#terms-of-use-window").fadeOut("fast",function(){e("#privacy-policy-window").fadeIn("fast")})}),e("#terms-int-link").click(function(){e("#privacy-policy-window").fadeOut("fast",function(){e("#terms-of-use-window").fadeIn("fast")})}),e("#input_1_5").change(function(){var n=e(this).val();if(n<=100){var t="$51-100";e("#electric_bill").val(t)}else if(n<=150&&n>100){var t="$101-150";e("#electric_bill").val(t)}else if(n<=200&&n>150){var t="$151-200";e("#electric_bill").val(t)}else if(n<=300&&n>200){var t="$201-300";e("#electric_bill").val(t)}else if(n<=400&&n>300){var t="$301-400";e("#electric_bill").val(t)}else if(n<=500&&n>400){var t="$401-500";e("#electric_bill").val(t)}else if(n<=600&&n>500){var t="$501-600";e("#electric_bill").val(t)}else if(n<=700&&n>600){var t="$601-700";e("#electric_bill").val(t)}else if(n<=800&&n>700){var t="$701-800";e("#electric_bill").val(t)}else var t="$0-50"})});
